<app-topbar
  [balance]="balance()"
  (settingsClick)="openSettings()"
/>

<main class="page">
  <section class="hero">
    <div>
      <p class="eyebrow">{{ 'app.eyebrow' | translate }}</p>
      <h1>{{ 'app.hero' | translate }}</h1>
      <p class="subtitle">
        {{ 'app.subtitle' | translate }}
      </p>
    </div>
    <app-summary-card
      [avatarSrc]="avatarSrc()"
      [level]="level()"
      [xpToNext]="xpToNext()"
      [progressPercent]="progressPercent()"
      [earned]="earned()"
      [spent]="spent()"
      [cycleLabel]="cycleLabel()"
      [cycleEarned]="cycleEarned()"
      [cycleRangeLabel]="cycleRangeLabel()"
      [previousCycleEarned]="previousCycleEarned()"
      [previousCycleLabel]="previousCycleLabel()"
    />
  </section>

  <section class="grid">
    <app-tasks-panel
      [tasks]="tasks()"
      [todayDoneIds]="todayDoneIds()"
      (addTask)="openTaskDialog()"
      (toggleTask)="toggleTask($event)"
      (removeTask)="removeTask($event)"
    />

    <app-rewards-panel
      [rewards]="rewards()"
      [balance]="balance()"
      (addReward)="openRewardDialog()"
      (redeemReward)="redeemReward($event)"
      (removeReward)="removeReward($event)"
    />
  </section>
</main>
