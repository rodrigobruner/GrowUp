<div class="settings-drawer">
  <div class="drawer-header">
    <h2 class="drawer-title">{{ 'settingsDialog.title' | translate }}</h2>
    <button mat-icon-button type="button" (click)="close()" [attr.aria-label]="'settingsDialog.close' | translate">
      <span class="material-icons">close</span>
    </button>
  </div>
  <div class="drawer-scroll">
    <form [formGroup]="form" class="dialog-form">
      <section class="settings-section">
        <div class="section-title">{{ 'settingsDialog.languageSection' | translate }}</div>
        <mat-form-field appearance="outline">
          <mat-label>{{ 'settingsDialog.language' | translate }}</mat-label>
          <mat-select formControlName="language">
            <mat-option value="en">English</mat-option>
            <mat-option value="pt">Português</mat-option>
            <mat-option value="fr">Français</mat-option>
          </mat-select>
        </mat-form-field>
      </section>

      <section class="settings-section">
        <div class="section-title">{{ 'settingsDialog.cacheSection' | translate }}</div>
        <div class="cache-actions">
          <button mat-stroked-button type="button" (click)="clearCacheAndReload()">
            {{ 'settingsDialog.clearCache' | translate }}
          </button>
          <button mat-stroked-button class="delete-account-button" type="button" (click)="clearAllDataAndReload()">
            {{ 'settingsDialog.clearAll' | translate }}
          </button>
        </div>
        <p class="cache-warning">{{ 'settingsDialog.clearAllWarning' | translate }}</p>
      </section>

      <section class="settings-section danger-zone">
        <div class="section-title danger-title">{{ 'settingsDialog.deleteAccount' | translate }}</div>
        <button
          mat-stroked-button
          class="delete-account-button"
          type="button"
          (click)="openDeleteAccount()"
          [disabled]="!isLoggedIn()"
        >
          {{ 'settingsDialog.deleteAccount' | translate }}
        </button>
      </section>
    </form>
  </div>
  <div class="drawer-actions">
    <button mat-button (click)="close()">{{ 'settingsDialog.cancel' | translate }}</button>
    <button mat-flat-button color="primary" (click)="save()" [disabled]="form.invalid">
      {{ 'settingsDialog.save' | translate }}
    </button>
  </div>
</div>
